<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<title>Lista de Voos</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f7f9fc;
    color: #212121;
    padding: 20px;
  }
  ul {
    list-style: none;
    padding-left: 0;
    max-width: 700px;
    margin: auto;
  }
  li {
    background: white;
    margin-bottom: 12px;
    border-radius: 8px;
    padding: 16px 20px;
    box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
  }
  strong {
    color: #3f51b5;
  }
  .field {
    margin-bottom: 6px;
  }
</style>
</head>
<body>
  <h2>Voos Cortados</h2>
  <ul id="lista-voos"></ul>

  <script>
    // Dados simulados recebidos da API / Apps Script
    const dados = [
      {motivo:"", hora:"09:42:12", tipo:"", data:"", voo:7.0, rota:"", peso:2232.0},
      {voo:"LA-4742", data:"Tue Jul 29 00:00:00 GMT-03:00 2025", hora:"09:42:12", peso:456.0, tipo:"PAX", rota:"GRU-SLZ", motivo:"VOLUME"},
      {hora:"09:42:12", motivo:"VOLUME", voo:"LA-3330", tipo:"PAX", data:"Tue Jul 29 00:00:00 GMT-03:00 2025", peso:111.0, rota:"GRU-VIX"},
      {tipo:"PAX", rota:"GRU-MAO", data:"Tue Jul 29 00:00:00 GMT-03:00 2025", hora:"09:42:12", voo:"LA-3560", motivo:"VOLUME", peso:233.0},
      {rota:"GRU-FOR", data:"Tue Jul 29 00:00:00 GMT-03:00 2025", hora:"09:42:12", voo:"LA-3020", motivo:"VOLUME", tipo:"PAX", peso:182.0},
      {data:"Tue Jul 29 00:00:00 GMT-03:00 2025", tipo:"PAX", rota:"GRU-BEL", peso:258.0, voo:"LA-3228", motivo:"VOLUME", hora:"09:42:12"},
      {data:"Tue Jul 29 00:00:00 GMT-03:00 2025", tipo:"PAX", voo:"LA-4531", rota:"GRU-LDB", motivo:"ACFT STRUTCURAL", hora:"09:42:12", peso:784.0},
      {hora:"09:42:12", tipo:"PAX", peso:208.0, data:"Tue Jul 29 00:00:00 GMT-03:00 2025", rota:"GRU-CWB", voo:"LA-3284", motivo:"UNAVAILABLE CARGO"}
    ];

    function formatarData(dataStr) {
      if (!dataStr) return '';
      const d = new Date(dataStr);
      if (isNaN(d)) return dataStr;
      return d.toLocaleDateString('pt-BR');
    }

    const lista = document.getElementById('lista-voos');

    dados.forEach(item => {
      // Ignorar itens sem voo v√°lido (ex: voo = 7.0 no primeiro item)
      if (!item.voo || typeof item.voo !== 'string' || item.voo.trim().length < 3) return;

      const li = document.createElement('li');

      li.innerHTML = `
        <div class="field"><strong>Voo:</strong> ${item.voo}</div>
        <div class="field"><strong>Tipo:</strong> ${item.tipo || '-'}</div>
        <div class="field"><strong>Rota:</strong> ${item.rota || '-'}</div>
        <div class="field"><strong>Motivo:</strong> ${item.motivo || '-'}</div>
        <div class="field"><strong>Peso:</strong> ${item.peso ?? '-'}</div>
        <div class="field"><strong>Data:</strong> ${formatarData(item.data)}</div>
        <div class="field"><strong>Hora:</strong> ${item.hora || '-'}</div>
      `;

      lista.appendChild(li);
    });
  </script>
</body>
</html>
